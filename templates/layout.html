<!DOCTYPE html>
<html lang="en">

<head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"
                integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
                crossorigin="anonymous">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
        <link href="{{ url_for('static', filename='style.css') }}" rel="stylesheet">
        <link href="https://cdn.lineicons.com/5.0/lineicons.css" rel="stylesheet" />
        <script src="https://cdn.jsdelivr.net/npm/three@0.160.1/build/three.min.js"></script>
        <title>Dart Score Tracker</title>
</head>

<body class="bg-dark text-white text-opacity-75">
        <div id="three-container" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1;">
        </div>
        {% if session['user_id'] %}
        <nav class="navbar navbar-expand-sm navbar-dark bg-dark border-bottom border-secondary">
                <div class="container">
                        <a class="navbar-brand" href="/">
                                <img src="/static/images/brand.png" width="160" height="40" />
                        </a>
                        <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                                data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false"
                                aria-label="Toggle navigation">
                                <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse" id="navbarNav">
                                <ul class="navbar-nav ms-auto">
                                        <li class="nav-item"><a class="nav-link" href="/">Home</a></li>
                                        <li class="nav-item"><a class="nav-link" href="/profile">Profile</a></li>
                                        <li class="nav-item"><a class="nav-link" href="/scoreboard">Scoreboard</a></li>
                                        {% if session['user_role'] == 'moderator' %}
                                        <li class="nav-item"><a class="nav-link" href="/addscore">Add Score</a></li>
                                        {% endif %}
                                        {% if session['user_role'] == 'admin' %}
                                        <li class="nav-item"><a class="nav-link" href="/adminpanel">Admin Panel</a></li>
                                        {% endif %}
                                        <li class="nav-item"><a class="nav-link" href="/logout">Logout</a></li>
                                </ul>
                        </div>
                </div>
        </nav>
        {% endif %}
        {% block body %}

        {% endblock %}
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
                crossorigin="anonymous"></script>
        <script>
                const container = document.getElementById('three-container');

                // ---------- Scene and Camera ----------
                const scene = new THREE.Scene();
                scene.background = new THREE.Color(0x000000);

                const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
                camera.position.set(15, 7, 15);
                camera.lookAt(0, 0, 0);

                const renderer = new THREE.WebGLRenderer({ antialias: true });
                renderer.setSize(window.innerWidth, window.innerHeight);
                renderer.shadowMap.enabled = true;
                renderer.shadowMap.type = THREE.PCFSoftShadowMap;
                container.appendChild(renderer.domElement);

                // ---------- Silvery Stars ----------
                const starCount = 500;

                for (let i = 0; i < starCount; i++) {
                        const geometry = new THREE.SphereGeometry(0.3, 12, 12);

                        const material = new THREE.MeshStandardMaterial({
                                color: 0xaaaaaa,        // silver
                                metalness: 0.8,         // reflective
                                roughness: 0.2,         // smooth
                                emissive: 0xffffff,     // glow
                                emissiveIntensity: 1.2  // bright stars
                        });

                        const star = new THREE.Mesh(geometry, material);

                        // Random position in space
                        star.position.x = (Math.random() - 0.5) * 400;
                        star.position.y = (Math.random() - 0.5) * 400;
                        star.position.z = (Math.random() - 0.5) * 400;

                        star.castShadow = true;
                        star.receiveShadow = false;

                        scene.add(star);
                }

                // ---------- Lights ----------
                const ambientLight = new THREE.AmbientLight(0xffffff, 0.2);
                scene.add(ambientLight);

                const directionalLight = new THREE.DirectionalLight(0xffffff, 1);
                directionalLight.position.set(50, 50, 50);
                directionalLight.castShadow = true;
                directionalLight.shadow.mapSize.width = 1024;
                directionalLight.shadow.mapSize.height = 1024;
                scene.add(directionalLight);

                // Optional: small point light following the camera for extra brightness
                const cameraLight = new THREE.PointLight(0xffffff, 0.3);
                camera.add(cameraLight);
                scene.add(camera);

                // ---------- Animate ----------
                let clock = new THREE.Clock();

                function animate() {
                        requestAnimationFrame(animate);

                        const t = clock.getElapsedTime();
                        const radius = 50;

                        // Rotate camera around the center
                        camera.position.x = radius * Math.sin(t * 0.02);
                        camera.position.y = 20 * Math.sin(t * 0.01);
                        camera.position.z = radius * Math.cos(t * 0.02);
                        camera.lookAt(0, 0, 0);

                        renderer.render(scene, camera);
                }

                animate();

                // ---------- Handle Resize ----------
                window.addEventListener('resize', () => {
                        camera.aspect = window.innerWidth / window.innerHeight;
                        camera.updateProjectionMatrix();
                        renderer.setSize(window.innerWidth, window.innerHeight);
                });
        </script>

</body>

</html>
>